# ---------------- IDENTIFIERS ---------------- #

- label: identifier
  description: Unique identifier column
  priority: 100
  priority_real:
    level: critical
    rationale: Core entity identifier; incorrect handling breaks joins and integrity
  min_signals: 1
  when:
    any:
      - signal: abbreviation
        in: [id, uuid, key, pk]
      - signal: role
        equals: identifier
  not:
    any:
      - signal: abbreviation
        in: [flag, is, has, date, time, status]
  recommended_treatment:
    - do_not_transform
    - candidate_primary_key
  expected_conditions:
    - not_null
    - unique
    - stable_over_time



# ---------------- DATES & TIME ---------------- #

- label: date
  description: Date column
  priority: 90
  priority_real:
    level: medium
    rationale: Temporal reference; important for analytics but not entity-defining
  min_signals: 1
  when:
    any:
      - signal: date
      - signal: abbreviation
        in: [date, dt, created, updated]
  not:
    any:
      - signal: abbreviation
        in: [status, type, flag]
  recommended_treatment:
    - normalize_date_format
  expected_conditions:
    - not_null

- label: timestamp
  description: Timestamp column
  priority: 95
  priority_real:
    level: medium
    rationale: Event timing; required for ordering and time-based logic
  min_signals: 1
  when:
    any:
      - signal: abbreviation
        in: [timestamp, ts, created_at, updated_at]
      - signal: date
        equals: timestamp
  not:
    any:
      - signal: abbreviation
        in: [status, type, flag]
  recommended_treatment:
    - enforce_timezone
  expected_conditions:
    - not_null



# ---------------- MONETARY ---------------- #

- label: monetary_amount
  description: Monetary amount column
  priority: 90
  priority_real:
    level: high
    rationale: Financial values; incorrect handling leads to reporting errors
  min_signals: 2
  when:
    all:
      - signal: currency
      - signal: abbreviation
        in: [amount, price, total, cost, revenue]
  not:
    any:
      - signal: abbreviation
        in: [count, qty, number, flag, is]
  recommended_treatment:
    - normalize_decimal_format
    - preserve_precision
  expected_conditions:
    - not_null



# ---------------- METRICS ---------------- #

- label: metric
  description: Numeric business metric
  priority: 80
  priority_real:
    level: medium
    rationale: Analytical measure; errors affect insights but not structural integrity
  min_signals: 2
  when:
    any:
      - signal: abbreviation
        in: [count, qty, quantity, number, total]
      - signal: role
        equals: metric
  not:
    any:
      - signal: currency
  recommended_treatment:
    - validate_numeric
  expected_conditions:
    - not_null

      - signal: currency


# ---------------- FLAGS / BOOLEANS ---------------- #

- label: flag
  description: Boolean flag column
  priority: 70
  priority_real:
    level: medium
    rationale: Logical switches; misinterpretation impacts business rules
  min_signals: 2
  when:
    any:
      - signal: abbreviation
        in: [is, has, flag, active, enabled]
      - signal: role
        equals: flag
  not:
    any:
      - signal: abbreviation
        in: [id, uuid, key]
  recommended_treatment:
    - cast_to_boolean
  expected_conditions:
    - not_null


# ---------------- CATEGORICAL ---------------- #

- label: category
  description: Categorical column
  priority: 60
  priority_real:
    level: low
    rationale: Classification aid; low structural risk
  min_signals: 2
  when:
    any:
      - signal: abbreviation
        in: [type, category, status, level, group]
      - signal: role
        equals: category
  not:
    any:
      - signal: date
      - signal: currency
  recommended_treatment:
    - standardize_values


# ---------------- TEXT / DESCRIPTION ---------------- #
- label: text
  description: Free text column
  priority: 50
  priority_real:
    level: low
    rationale: Descriptive content; minimal structural impact
  min_signals: 1
  when:
    any:
      - signal: abbreviation
        in: [description, desc, comment, notes, remarks]
  not:
    any:
      - signal: currency
      - signal: date
  recommended_treatment:
    - trim_whitespace


# ---------------- GEO ---------------- #

- label: geo_country
  description: Country column
  priority: 85
  min_signals: 1
  when:
    any:
      - signal: abbreviation
        in: [country, nation]
      - signal: role
        equals: country
  not:
    any:
      - signal: abbreviation
        in: [code, id]

- label: geo_city
  description: City column
  priority: 80
  min_signals: 1
  when:
    any:
      - signal: abbreviation
        in: [city, town]
      - signal: role
        equals: city
  not:
    any:
      - signal: abbreviation
        in: [code, id]


# ---------------- CONTACT ---------------- #

- label: email
  description: Email address column
  priority: 85
  priority_real:
    level: high
    rationale: Personal identifier; privacy and correctness are critical
  min_signals: 1
  when:
    any:
      - signal: abbreviation
        in: [email, mail]
  not:
    any:
      - signal: abbreviation
        in: [flag, is]
  recommended_treatment:
    - normalize_case
  expected_conditions:
    - valid_format


- label: phone
  description: Phone number column
  priority: 80
  priority_real:
    level: high
    rationale: Personal contact data; sensitive to formatting errors
  min_signals: 1
  when:
    any:
      - signal: abbreviation
        in: [phone, mobile, cellphone]
  not:
    any:
      - signal: abbreviation
        in: [flag, is]
  recommended_treatment:
    - normalize_phone_format

